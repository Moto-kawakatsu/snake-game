<!doctype html>
<html>
<body>
<script>
  // ゲーム画面作成
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');

    canvas.width = 400;
    canvas.height = 400;

    canvas.setAttribute('style','display:block;margin:auto;background-color:#aaa');
    
    document.body.appendChild(canvas);
  
  // ゲーム内のプログラム
    const GRID = 20;
    const STAGE = canvas.width / GRID;

    const snake = {
    x: null,
    y: null,
    dx: 1,
    dy: 0,
    tail: null,
    
    update: function() {
      this.body.push({x: this.x, y: this.y});
      this.x += this.dx;
      this.y += this.dy;
      
      ctx.fillStyle = 'green';
      this.body.forEach(obj => {
        ctx.fillRect(obj.x*GRID, obj.y*GRID, GRID-2, GRID-2);
        if(this.x === obj.x && this.y === obj.y) init();
      })

</script>
</body>
</html>